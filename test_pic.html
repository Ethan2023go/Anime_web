<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- <div class="abc" id="a" data-sic="123" onclick="on()">123</div> -->


<!-- 定義按鈕元素,並綁定點擊事件呼叫 changeImg 函數 -->
<button class="btn" id="btn1" data-img="./imgs/Zelda_mina.png" onclick='changeImg(this.id)'>1</button>
<button class="btn" id="btn2" data-img="./imgs/FINAL_16.png" onclick=' changeImg(this.id)'>2</button>
<button class="btn" id="btn3" data-img="./imgs/Baldurs Gate 3_cha_2.jpg" onclick='changeImg(this.id)'>3</button>

<!--圖片元素 -->
<img src="" alt="" id="pic_img">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    // function on() {
    //     let item = document.getElementById("a");
    //     console.log("a", item.dataset.sic);
    //     item.dataset.sic = "456";

    //     console.log("b", item.dataset.sic);


    // }

    // 定義儲存上次點擊的id和隱藏狀態
    let tmpId = "";
    let tmpHide = 0;

    // 更改圖片的函數
    function changeImg(id) {
        // 獲取data-img圖片路徑
        let imgData = document.getElementById(id).dataset.img;
        console.log(imgData);
        // console.log(tmpHide);
        // console.log(id);
        // console.log(tmpId);
        
        // 判斷當前id是否與上次點擊相同
        if (id == tmpId) {
            // 如果相同則進行顯示/隱藏切換
            if (tmpHide == 1) {
                $(document).ready(function () {
                    $("#pic_img").fadeOut(1000);
                    tmpHide = 0;
                });
            } else {
                $(document).ready(function () {
                    $("#pic_img").fadeIn(2000);
                });
                tmpHide = 1;
            }

        } else {
             // 如果不同,先淡入
            $("#pic_img").fadeIn(500);
            // 
            $(document).ready(function () {

                // 再替換圖片並淡出
                $("#pic_img").fadeOut(1000);
                setTimeout(() => {
                    $("#pic_img").attr("src", `${imgData}`)

                }, 1000);
                $("#pic_img").fadeIn(2000);


            });
            
           // 重置
            tmpId = "";
            tmpHide = 0;
        }

        // 儲存當前id
        tmpId = id;
        
    }

</script>
</body>
</html>